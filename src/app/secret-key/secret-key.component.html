<div class="auth-container">
  <div class="auth-card">
    <h2>Code Secret</h2>
    <p class="subtitle">Entrez votre code secret pour finaliser la connexion</p>

    <form [formGroup]="secretForm" (ngSubmit)="onSubmitSecret()" class="auth-form">
      <div class="form-group">
        <i class="material-icons">lock</i>
        <input
          type="password"
          formControlName="secretCode"
          placeholder="Code secret"
          maxlength="8"
        >
        <div *ngIf="secretForm.get('secretCode')?.touched && secretForm.get('secretCode')?.errors"
             class="error-message">
          Code secret invalide (4-8 caract√®res requis)
        </div>
      </div>

      <div *ngIf="error" class="error-alert fade-in">
        {{ error }}
      </div>

      <button
        type="submit"
        [disabled]="loading || secretForm.invalid"
        class="submit-button"
      >
        <span *ngIf="loading" class="loader"></span>
        <span *ngIf="!loading" class="button-content">
          Se connecter
          <i class="material-icons">arrow_forward</i>
        </span>
      </button>
    </form>
  </div>
</div>
